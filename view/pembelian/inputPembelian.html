<div id="page-heading">
    <ol class="breadcrumb">
        <li><a href="#/pembelian">Pembelian</a></li>
        <li class='active'>Input Pembelian</li>
    </ol>
    <h1>Input Pembelian</h1>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-midnightblue">
                <div class="panel-heading">
                    <h4>Form Input Pembelian</h4>
                </div>
                <div class="panel-body">
								
					<form ng-submit="" class="form-horizontal row-border"  data-validate="parsley" id="validate-form">
					
							<div class="form-group">
								<div class="col-md-6">
									<label class="col-sm-3 control-label">Tanggal Beli</label>
									<div class="col-sm-6">
										<div class="input-group date" id="datepicker">
											<!-- <input ng-model="tanggal" ng-click="open($event)" type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" /> -->
											<boots-datepicker ng-model="tanggal"></boots-datepicker>
											<span class="input-group-addon"><i class="fa fa-calendar" ng-click="open($event)"></i></span>										
										</div>
									</div>
								</div>
								
								<div class="col-md-6">
								<div class="form-group">
									<label class="col-sm-3 control-label">Nama Supplier</label>
									<div class="col-sm-6">
										<select ng-options="item.namajenis for item in respons.listJenisBarang" ng-model="itemBarang.jenis" id="jenis" class="form-control" required>
									<!-- <option data-ng-repeat="item in respons.listJenisBarang">{{item.namajenis}}</option> -->
									<option value="" selected disabled>Jenis Barang</option>
								</select>
									</div>
								</div>
								</div>
							</div>
						
						<div class="form-group">
						<a data-toggle="modal" class="btn-primary btn-sm btn" href="#/pembelian/add#myModal">Tambah Data Barang</a>
						<div class="row">
				<div class="col-md-12">
				<div class="panel panel-gray">
				  <div class="panel-heading">
						<h4>Data Barang</h4>
				  </div>
				  <div class="panel-body collapse in">
						<div class="col-md-12">
						<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered ">
							<thead>
								<tr>
									<th>Kode Barang</th>
									<th>Nama Barang</th>
									<th>Jenis Barang</th>
									<th>Harga Satuan</th>
									<th>Harga Jual</th>
									<th>Jumlah Stock</th>
									<th>Satuan</th>
								</tr>
							</thead>
							<tbody>
								<tr data-ng-repeat="item in listDataBarang track by $index">
									<td>{{item.kode}}</td>
									<td>{{item.nama}}</td>
									<td>{{item.jenisnama}}</td>
									<td>{{item.hargasatuan}}</td>
									<td>{{item.hargajual}}</td>
									<td>{{item.jumlahstok}}</td>
									<td>{{item.satuan}}</td>
								</tr>
								<tr>
									<td colspan="6" align="center"><b>Total Pembelian</b></td>
									<td>Rp. {{totalPembelian}}</td>
								</tr>
							</tbody>
						</table>
						</div>
				  </div>
				</div>
				</div>
				</div>
				</div>
				
				<div class="form-group">
					<div class="col-sm-6">
						<div class="btn-toolbar">
							<button type="submit" class="btn-primary btn" data-ng-click="simpan(itemBarang)">Submit</button>
							<button class="btn-default btn">Cancel</button>
						</div>
					</div>
				</div>
												
						
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
		<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">Input Data Barang</h4>
			</div>
			<div class="modal-body">
				<form ng-submit="tambahDataBarang(barang)" class="form-horizontal row-border"  data-validate="parsley" id="validate-form">
						
						
						<div class="form-group">
                        <label class="col-sm-3 control-label">Kode Barang</label>
                        <div class="col-sm-6">
                            <input ng-model="barang.kode" type="text" placeholder="Kode Barang" required="required" class="form-control">
                        </div>
                    </div>
					
					<div class="form-group">
                        <label class="col-sm-3 control-label">Nama Barang</label>
                        <div class="col-sm-6">
                            <input ng-model="barang.nama" type="text" placeholder="Nama Barang" required="required" class="form-control">
                        </div>
                    </div>
					
					<div class="form-group">
                        <label class="col-sm-3 control-label">Jenis Barang</label>
                        <div class="col-sm-6">
                            <select ng-disabled="showFormInputJenis" ng-options="item.namajenis for item in respons.listJenisBarang" ng-model="barang.jenis" id="jenis" class="form-control" required>
								<option value="" selected disabled>Jenis Barang</option>
							</select>
							<a ng-disabled="showFormInputJenis" data-toggle="modal" ng-click="showFormInputJenis=true" class="btn btn-primary btn-xs">Tambah Jenis Barang</a>
                        
						</div>						
                    </div>
					<div class="form-group" ng-show="showFormInputJenis">
							
							<label class="col-sm-3 control-label">Nama Jenis</label>
							<div class="col-sm-6">
								<input ng-disabled="!showFormInputJenis" ng-model="jenis.jenisbarang" type="text" placeholder="Nama Jenis" required="required" class="form-control">
								<a class="btn-primary btn" ng-click="showFormInputJenis=false; simpanJenis(jenis)">Simpan</a>
								<a class="btn-default btn" ng-click="showFormInputJenis=false">Cancel</a>
							</div>
								
						</div>
					
					<div class="form-group">
                        <label class="col-sm-3 control-label">Harga Satuan</label>
                        <div class="col-sm-6">
                            <input ng-model="barang.hargasatuan" type="text" placeholder="Harga Satuan" required="required" class="form-control">
                        </div>
                    </div>
					
					<div class="form-group">
                        <label class="col-sm-3 control-label">Harga Jual</label>
                        <div class="col-sm-6">
                            <input ng-model="barang.hargajual" type="text" placeholder="Harga Jual" required="required" class="form-control">
                        </div>
                    </div>
					
					<div class="form-group">
                        <label class="col-sm-3 control-label">Jumlah Stock</label>
                        <div class="col-sm-6">
                            <input ng-model="barang.jumlahstok" type="text" placeholder="Jumlah Stock" required="required" class="form-control">
                        </div>
                    </div>
					
					<div class="form-group">
                        <label class="col-sm-3 control-label">Jumlah</label>
                        <div class="col-sm-6">
                            <input ng-model="barang.jumlah" type="text" placeholder="Stock Minimal" required="required" class="form-control">
                        </div>
                    </div>
					
					<div class="form-group">
                        <label class="col-sm-3 control-label">Satuan</label>
                        <div class="col-sm-6">
                            <input ng-model="barang.satuan" type="text" placeholder="Satuan" required="required" class="form-control">
                        </div>
                    </div>
					
					<div class="form-group">
                    <div class="col-sm-6 col-sm-offset-3">
                        <div class="btn-toolbar">
                            <button type="submit" class="btn btn-primary">Submit</button>
                            <button type="reset" class="btn-default btn" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
					</form>
			</div>
		</div>
	</div>
</div>